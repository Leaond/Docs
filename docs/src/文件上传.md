<script setup>
import UploadFile from './uploadFile.vue'
</script>

# 文件上传
前端进行文件上传有两种方式：二进制blob传输，base64传输
二进制blob传输
将文件转为base64进行传输

files类：通过input标签选择文件后就能获取到这个文件files对象。里面包含着文件的各种信息，他是一个blob的子类。
这个files的文件类是不能直接给后端的，因为这个类是一个前端的类，发送给后端识别不了。所以我们就需要使用formdata进行封装。转成后端能够识别的文件类型
blob对象：不可变的二进制内容，包含很多的操作方法。
formData：用于和后端传输的对象。可以把这个formData理解为一个骑车，专门用来搭载文件对象的，运送文件对象给后端。
fileReader：多用于把文件读取为某中形式，如base64，text文本。

通过`<input type="file" name="file" @change="fileChange">`我们就能够在fileChange这个方法里面获取到这个文件了，我们可以通过对文件信息的判断，来进行处理或者筛选操作，比如判断大小是否超出，文件格式是否正确，文件的后缀是否正确。

同事我们也可以使用 new File()
这个构造函数来创建一个文件，但是这个files对象只存在代码中，因为他没有将数据写进磁盘的能力。
同时我们可以使用 new Blob([file])和new File([file])的方法将files类转成blob类，或者转回来。
blob身上有一个slice方法，可以将文件进行切割.
let _sliceBlob = blob.slice(0,5000),我们可以将切割后的blob对象再转成file对象这样就可以当做文件类型了。
同时我们也可以使用 let fr = new FileReader()创建一个实例，这个实力身上可以将文件读取成目标格式：fr.readAsDataURL(file)这里我们将上面读取到的文件读取成了base64格式的文件，但是我们不能打印出来吗，因为这是一个异步任务。但是我们可以通过fr.onload这个方法来监听读取结果，在这个方法里面我们可以获取到这个结果并且可以再页面上赋值给img标签的src属性，来作为缩略图展示。
blob格式的文件是否可以用作展示？？?
如果使用截取后的文件来做展示，会是什么效果？？？

下面我们就可以使用formData来讲数据传递给后端了

多文件上传

切片上传
切片时，formData里面的文件名字要一样，后端通过这个名字来进行拼接。

断点续传
我们需要记录上次传的位置，并且持久化存储起来，当再进行续传的时候继续从这个为止开始传输，并且从storage里面取出文件名
<UploadFile/>